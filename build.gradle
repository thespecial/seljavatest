buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath "io.qameta.allure:allure-gradle:2.5"
    }
}

plugins {
    id "java"
    id "io.qameta.allure" version "2.5"
}

repositories {
    jcenter()
    mavenCentral()
}

version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile 'com.codeborne:selenide:4.9.1'
}

allure {
    version = '2.5'
    autoconfigure = true
    aspectjweaver = true
}

tasks.withType(Test) {
    maxParallelForks = Runtime.runtime.availableProcessors() / 2
}

task chrome(type: Test) {
    systemProperties['selenide.browser'] = 'chrome'
    systemProperties['selenide.headless'] = true
}

task firefox(type: Test) {
    systemProperties['selenide.browser'] = 'firefox'
}

